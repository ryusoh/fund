/* JetBrains Mono – regular and italics */
@font-face{
    font-family:'JetBrains Mono';
    src:url('./fonts/webfonts/JetBrainsMono-Thin.woff2') format('woff2');
    font-weight:100;font-style:normal;font-display:swap;
}
@font-face{
    font-family:'JetBrains Mono';
    src:url('./fonts/webfonts/JetBrainsMono-ThinItalic.woff2') format('woff2');
    font-weight:100;font-style:italic;font-display:swap;
}

/* repeat for 200,300,400,500,600,700,800 … */
@font-face{
    font-family:'JetBrains Mono';
    src:url('./fonts/webfonts/JetBrainsMono-Regular.woff2') format('woff2');
    font-weight:400;font-style:normal;font-display:swap;
}
@font-face{
    font-family:'JetBrains Mono';
    src:url('./fonts/webfonts/JetBrainsMono-Italic.woff2') format('woff2');
    font-weight:400;font-style:italic;font-display:swap;
}
/* …continue through 800 */
body {
    color: rgba(255, 255, 255, 0.85); /* Apple's primary label color for dark mode */
    margin: 0; /* Remove default browser margins */
    height: 100vh; /* Ensure the body takes up the full viewport height */
    font-family: 'JetBrains Mono', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
    padding: 20px; /* Add some padding so table isn't at the very edge */
    background: #000000 url(background.jpg) center center no-repeat !important;
    background-size: cover !important;
}

/* New wrapper for combined table and footer */
.content-block {
    width: 85%; /* Adjust width for desktop */
    max-width: 900px; /* Max width for larger screens */
    margin: 30px auto 20px auto; /* Centered, combined vertical spacing */
    background-color: rgba(44, 44, 46, 0.9); /* Unified background */
    border-radius: 8px; /* Unified rounded corners */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* Unified shadow */
}
/* New wrapper for responsive table */
.table-responsive-container {
    overflow-x: auto; /* Enable horizontal scroll if content overflows */
    -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS for better UX */
    padding: 0; /* Padding will be handled by table/cells if needed, or keep minimal for container */
    /* Rounded corners for the top part of the content-block */
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
}
table {
    width: 100%; /* Table fills the responsive container */
    margin: 0; /* No margin for table itself, container handles it */
    border-spacing: 0; /* Remove spacing between cells */
    /* border-collapse: collapse; */ /* Not strictly needed if using border-spacing: 0 and border-bottom only */
}
td {
    border: none; /* Remove all default borders */
    padding: 7px 16px; /* Adjusted padding */
    /* border-bottom will be handled by tbody tr */
}
th {
    border: none; /* Remove all default borders */
    color: rgba(235, 235, 245, 0.6); /* Apple's secondary label color in dark mode */
    font-weight: 600; /* Semibold is common */
    font-size: 0.75em; /* Typically smaller for headers */
    text-transform: uppercase; /* Common for table headers in Apple design */
    letter-spacing: 0.08em; /* Slight tracking */
    padding: 8px 16px; /* Specific padding for headers */
    border-bottom: 1px solid rgba(84, 84, 88, 0.65); /* Apple's separator color in dark mode */
    text-align: right; /* Default for headers */
}
thead tr th { /* Apply gradient to all header cells */
    background-image: linear-gradient(to bottom, rgba(60, 60, 63, 0.7), rgba(60, 60, 63, 0.35));
    background-repeat: no-repeat; /* Good practice for gradients */
}
table thead tr:first-child th:first-child {
    border-top-left-radius: 8px; /* Match container radius */
}
table thead tr:first-child th:last-child {
    border-top-right-radius: 8px; /* Match container radius */
}

/* Column width optimizations */
table {
    table-layout: auto; /* This is default, but good to be explicit. Browser adjusts to content. */
}
th:nth-child(1) { width: 10%; } /* Ticker */
th:nth-child(2) { width: 10%; } /* Allocation */
th:nth-child(3) { width: 10%; } /* Price */
th:nth-child(4) { width: 10%; } /* Cost */
th:nth-child(5) { width: 10%; } /* Shares */
th:nth-child(6) { width: 10%; } /* Value */
th:nth-child(7) { width: 15%; } /* PnL */

/* Prevent wrapping in data cells for a more compact look */
td.price, td.cost, td.shares, td.pnl, td.value, td.allocation, th { /* Apply to th too for consistency */
    white-space: nowrap;
}
td {
    color: rgba(255, 255, 255, 0.85); /* Apple's primary label color for dark mode */
    font-size: 0.75em; /* Data cells slightly larger for hierarchy */
    text-align: right; /* Default for data cells */
}
tbody tr {
    border-bottom: 1px solid rgba(84, 84, 88, 0.65); /* Apple's separator color for rows */
}
/* Align first column (header and data) to the left */
th:first-child,
td:first-child {
    text-align: left;
}
tbody tr:last-child {
    border-bottom: none; /* Remove border from the last row's cells */
}
tbody tr:hover {
    background-color: rgba(60, 60, 63, 0.75); /* Subtle hover, based on System Gray 4 */
    background-image: none; /* Override any gradient on hover for a uniform background */
}
/* Hover effect for header cells */
thead tr th:hover {
    background-color: rgba(60, 60, 63, 0.75); /* Consistent hover color */
    background-image: none; /* Remove gradient on hover */
}

#fundPieChartContainer {
    width: 90%; /* Increased width */
    max-width: 400px; /* Increased max-width */
    margin: 10px auto 10px; /* Horizontally center, top margin 0, bottom margin 20px */
}
.hidden {
    display: none;
}
.footer-wrapper {
    /* Mimics tfoot tr background and layout */
    background-color: transparent; /* Background handled by .content-block */
    box-sizing: border-box;
    /* Rounded corners for the bottom part of the content-block */
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
}
#table-footer-summary { /* Mimics tfoot td */
    /* Copied from th and thead tr th for consistency */
    color: rgba(235, 235, 245, 0.6);
    font-weight: 600;
    font-size: 0.75em;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 8px 16px; /* Default padding, matches th */
    background-image: linear-gradient(to bottom, rgba(60, 60, 63, 0.7), rgba(60, 60, 63, 0.35));
    background-repeat: no-repeat;
    
    border-top: 1px solid rgba(84, 84, 88, 0.65); /* Separator from table content */
    text-align: right; /* Default alignment */

    /* Ensure it respects the rounded corners of .footer-wrapper and .content-block */
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
}
#table-footer-summary:hover {
    background-color: rgba(60, 60, 63, 0.75); /* Consistent hover color, matches th:hover */
    background-image: none; /* Remove gradient on hover */
}

/* Media Query for mobile devices */
@media (max-width: 768px) {
    html {
        /* Ensure html element also restricts overflow on mobile */
        height: 100vh !important; /* Full viewport height */
        overflow: hidden !important; /* Prevent all scroll on html */
        position: relative; /* Helps iOS honor overflow */
        overscroll-behavior-y: contain !important; /* Prevents scroll chaining/bounce */
        touch-action: none !important; /* Disable touch-based scrolling/panning */
    }
    body {
        position: fixed !important; /* Pin body to viewport */
        top: 0 !important;
        left: 0 !important;
        width: 100% !important; /* Full viewport width */
        height: 100% !important; /* Full viewport height */
        overflow-y: hidden !important; /* Still hide vertical overflow */
        overflow-x: hidden !important; /* Prevent horizontal scroll on body */
        overscroll-behavior-y: contain !important; /* Prevent bounce */
        touch-action: none !important; /* Disable touch actions */
        /* Existing body styles like background, padding, box-sizing will apply to this fixed container */
    }
    .content-block {
        /* No change to .content-block here, just context */
        /* .content-block width is 95% on mobile */
        /* .content-block margin is 0 auto 10px auto on mobile */
        width: 95%; /* Wider for mobile */
        margin: 0 auto 10px auto; /* Adjusted mobile margin */
    }
    .table-responsive-container {
        /* Width and margin are now handled by .content-block */
        /* border-radius will still apply for top corners */
        padding: 0;
    }
    td {
        padding: 5px 10px; /* Increased mobile padding for better touch and readability */
        /* font-size for td will be 0.8em from global td style */
    }
    th { 
        font-size: 0.75em; /* Mobile header font size */
        padding: 7px 10px; /* Mobile specific header padding */
    }
    #fundPieChartContainer { /* mobile styles are fine */
        width: 90%; /* Allow chart to take full width */
        max-width: 90%; /* Max width for mobile */
        margin: 0 auto 20px; /* Horizontally center, top margin 0, bottom margin 20px */
        touch-action: none; /* Disable touch-based scrolling/panning */
    }
    #table-footer-summary { /* Mimics tfoot td mobile */
        padding: 7px 10px; /* Unified mobile padding */
        font-size: 0.75em; /* Consistent with th mobile */
        text-align: right;
    }
    footer {
        width: 95%; /* Match .content-block's mobile width */
        position: fixed;
        z-index: 2;
        bottom: 10px;
        /* left: 50%; transform: translateX(-50%); still applies and works correctly */
    }

    table {
        width: 100%; /* Table takes full width of its scrollable container */
        min-width: 650px; /* Ensures table content isn't too squished before scrolling starts */
        margin: 0; /* Remove auto margin as container handles layout */
        touch-action: pan-x; /* Allow horizontal pan for table content */
    }

    /* Sticky first column for mobile */
    table thead th:first-child,
    table tbody td:first-child {
        position: -webkit-sticky; /* For Safari */
        position: sticky;
        left: 0;
        /* Ensure the sticky cells have a background to hide scrolling content underneath */
    }

    table thead th:first-child {
        z-index: 2; /* Above tbody cells */
        /* Override global gradient for less transparency on mobile sticky header */
        background-image: linear-gradient(to bottom, rgba(60, 60, 63, 0.98), rgba(60, 60, 63, 0.95));
        /* Existing border-radius will apply */
    }

    table tbody td:first-child {
        background-color: rgba(44, 44, 46, 0.98); /* Less transparent version of .content-block background */
        z-index: 1; /* Above other cells in the same row, below sticky header */
    }
    table tbody tr:hover td:first-child {
        background-color: rgba(60, 60, 63, 0.98); /* Less transparent version of tbody tr:hover background */
    }
}

footer {
    position: fixed;
    z-index: 2;
    bottom: 10px;
    /* Align footer block with .content-block */
    width: 85%; /* Matches .content-block width */
    max-width: 900px; /* Matches .content-block max-width */
    left: 50%;
    transform: translateX(-50%);
    /* End alignment changes */
    font-size: 12px;
    text-align: center; /* Centers text within the footer block */
    color: rgba(255, 255, 255, 0.5);
    font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
    font-weight: 100;
    letter-spacing: 1px;
    padding: 0;
    border: 0;
    vertical-align: baseline;
}

a.nav-back {
  position: fixed;
  top: 15px;
  right: 15px;
  color: #fff;
  z-index: 99;
  font-size: 1.1em;
}